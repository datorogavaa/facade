<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title th:text="${preference.id != null} ? 'Edit Preference' : 'New Preference'"></title>
</head>
<body>
<h2 th:text="${preference.id != null} ? 'Edit Notification Preference' : 'New Notification Preference'"></h2>
<form th:action="@{${preference.id != null} ? '/preferences/edit/' + ${preference.id} : '/preferences/new'}" method="post">
    <!-- Hidden inputs to send false when checkboxes are unchecked -->
    <input type="hidden" name="emailEnabled" value="false"/>
    <label>Email Enabled: <input type="checkbox" name="emailEnabled" th:checked="${preference.emailEnabled}"/></label><br/>

    <input type="hidden" name="smsEnabled" value="false"/>
    <label>SMS Enabled: <input type="checkbox" name="smsEnabled" th:checked="${preference.smsEnabled}"/></label><br/>

    <input type="hidden" name="postalEnabled" value="false"/>
    <label>Postal Enabled: <input type="checkbox" name="postalEnabled" th:checked="${preference.postalEnabled}"/></label><br/>

    <label>Customer ID: <input type="number" name="customUser.id" th:value="${preference.customUser.id}" required/></label><br/>

    <button type="submit">Submit</button>
</form>
<a th:href="@{/preferences}">Back to List</a>
</body>
</html>
